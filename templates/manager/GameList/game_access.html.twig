<turbo-frame id="modalDefaultBody">
    <div class="modal-body">
        <p>When setting a password, anyone who has that password will be able to log on to your session as that user type. 
        When setting specific users, those users will be able to log on to your session as that user type (assuming they entered the correct username and password).
        </p>
        <form class="form-horizontal" role="form" data-toggle="validator" id="formSessionUsers">
            <div class="row">
                <div class="col">
                    <div id="adminUserAccess">
                        <h6>Administrators</h6>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="provider_admin" value="local" onChange="limitUserAccessView('#adminPasswordFields');">
                            <label class="form-check-label" for="provider_admin">
                                Set a password
                            </label>
                        </div>
                        <div id="adminPasswordFields">
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" placeholder="Enter a password. Administrators require a password." id="password_admin" name="password_admin">
                            </div>  
                        </div>
                        <div id="adminProviders">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="provider_admin" value="external" onChange="limitUserAccessView('#adminUserFields');">
                                <label class="form-check-label" for="provider_admin">
                                    Set users from
                                </label>
                                <select class="form-control-sm d-inline-block p-0 h-25" id="provider_admin_external"></select>
                                <small id="passwordHelpBlock" class="form-text text-muted">
                                    Enter one username or e-mail address per line, and click Find.
                                </small>
                            </div>
                        </div>
                        <div id="adminUserFields">
                            <div class="input-group mb-3">
                                <div contenteditable="true" class="form-control" style="height: auto !important;" id="users_admin"></div>
                                <div class="input-group-append">
                                    <button class="btn btn-outline-secondary" type="button" id="button-find-users_admin" onclick="findUsersAtProvider('#users_admin', $('#provider_admin_external').val());">Find</button>
                                </div>
                            </div>
                        </div>                          
                    </div>
                </div>
                <div class="col">
                    <div id="regionUserAccess">
                        <h6>Region Managers</h6>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="provider_region" id="provider_region" value="local" onChange="limitUserAccessView('#regionPasswordFields');">
                            <label class="form-check-label" for="provider_region">
                                Set a password
                            </label>
                        </div>
                        <div id="regionPasswordFields">
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" placeholder="Enter a password. Region managers require a password." id="password_region" name="password_region">
                            </div>
                        </div>
                        <div id="regionProviders">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="provider_region" value="external" onChange="limitUserAccessView('#regionUserFields');">
                                <label class="form-check-label" for="provider_region">
                                    Set users from
                                </label>
                                <select class="form-control-sm d-inline-block p-0 h-25" id="provider_region_external"></select>
                                <small id="passwordHelpBlock" class="form-text text-muted">
                                    Enter one username or e-mail address per line, and click Find.
                                </small>
                            </div>
                        </div>
                        <div id="regionUserFields">
                            <div class="input-group mb-3">
                                <div contenteditable="true" class="form-control" style="height: auto !important;" id="users_region"></div>
                                <div class="input-group-append">
                                    <button class="btn btn-outline-secondary" type="button" id="button-find-users_region" onclick="findUsersAtProvider('#users_region', $('#provider_region_external').val());">Find</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div id="playerUserAccess" style="margin-top: 25px;">
                        <h6>Players</h6>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="provider_player" id="provider_player" value="local" onChange="limitUserAccessView('#playerPasswordFields');">
                            <label class="form-check-label" for="provider_player">
                                Set a password
                            </label>
                        </div>
                        <div id="playerPasswordFields">
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" placeholder="Leave empty for immediate access." id="password_playerall" name="password_playerall" oninput="toggleFields();">
                                <div class="input-group-append">
                                    <span class="input-group-text">All countries</span>
                                </div>
                            </div>
                            <div id="playerPasswordExtraFields">
                            </div>
                        </div>
                        <div id="playerProviders">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="provider_player" value="external" onChange="limitUserAccessView('#playerUserFields');">
                                <label class="form-check-label" for="provider_player">
                                    Set users from 
                                </label>
                                <select class="form-control-sm d-inline-block p-0 h-25" id="provider_player_external"></select>
                                <small id="passwordHelpBlock" class="form-text text-muted">
                                    Enter one username or e-mail address per line, and click Find.
                                </small>
                            </div>
                        </div>
                        <div id="playerUserFields">
                            <div class="input-group mb-3">
                                <div contenteditable="true" class="form-control" style="height: auto !important;" id="users_playerall"></div>
                                <script type="text/javascript">$("#users_playerall").on("change keydown paste input", function() {
                                    toggleDivs();
                                });</script>
                                <div class="input-group-append">
                                    <span class="input-group-text">All countries</span>
                                </div>
                                <div class="input-group-append">
                                    <button class="btn btn-outline-secondary" type="button" id="button-find-users_playerall" onclick="findUsersAtProvider('#users_playerall', $('#provider_player_external').val());">Find</button>
                                </div>
                            </div>
                            <div id="playerUserExtraFields">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" onClick="saveUserAccess();">Save</button>
    </div>
</turbo-frame>