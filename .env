# In all environments, the following files are loaded if they exist,
# the latter taking precedence over the former:
#
#  * .env                contains default values for the environment variables needed by the app
#  * .env.local          uncommitted file with local overrides
#  * .env.$APP_ENV       committed environment-specific defaults
#  * .env.$APP_ENV.local uncommitted environment-specific overrides
#
# Real environment variables win over .env files.
#
# DO NOT DEFINE PRODUCTION SECRETS IN THIS FILE NOR IN ANY OTHER COMMITTED FILES.
# https://symfony.com/doc/current/configuration/secrets.html
#
# Run "composer dump-env prod" to compile .env files for production use (requires symfony/flex >=1.2).
# https://symfony.com/doc/current/best_practices.html#use-environment-variables-for-infrastructure-configuration

###> symfony/framework-bundle ###
APP_ENV=dev
# note MH: got a "Generic High Entropy Secret exposed on GitHub" message from GitGardian about this. But it fine for DEV. We just need to run "php bin/console make:command regenerate-app-secret" on the production server locally to re-generate it to another APP_SECRET there.
APP_SECRET=5074ab0c955250bf0de0c0c602a503d9
###< symfony/framework-bundle ###

###> doctrine/doctrine-bundle ###
DBNAME_SERVER_MANAGER=msp_server_manager
DBNAME_DEFAULT="${DBNAME_SERVER_MANAGER}"
DBNAME_SESSION_PREFIX=msp_session_
DATABASE_HOST=localhost
DATABASE_PORT=3306
DATABASE_USER=root
DATABASE_PASSWORD=
DATABASE_SERVER_VERSION=mariadb-10.4.25
DATABASE_CHARSET=utf8mb4
# Format described at https://www.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/configuration.html#connecting-using-a-url
# IMPORTANT: You MUST configure your server version, either here or in config/packages/doctrine.yaml
#
DATABASE_URL="mysql://${DATABASE_USER}:@${DATABASE_HOST}:${DATABASE_PORT}/${DBNAME_DEFAULT}?serverVersion=${DATABASE_SERVER_VERSION}&charset=${DATABASE_CHARSET}"
DATABASE_CREATOR_USER="${DATABASE_USER}"
DATABASE_CREATOR_PASSWORD="${DATABASE_PASSWORD}"
DATABASE_POOL_NUM_CONNECTIONS=20
DATABASE_MAX_GAME_SESSION_DBS=99
###< doctrine/doctrine-bundle ###

# web server
#   e.g. for prod:
#   - WEB_SERVER_HOST=server.mspchallenge.info
#   - WEB_SERVER_PORT=443
# Note that the webserver host is retrieved from the game_servers table if WEB_SERVER_HOST is not set
#WEB_SERVER_HOST=localhost
WEB_SERVER_PORT=80

# websocket server
#   e.g. for prod, when using a nginx proxy
#   - WS_SERVER_SCHEME=wss://
#   - WS_SERVER_PORT_EXTERNAL=443
#   - WS_SERVER_URI=/ws/
WS_SERVER_OUTPUT_VERBOSITY=32
WS_SERVER_PAYLOAD_DUMP=0
WS_SERVER_SCHEME=ws://
# Note that the websocket host is retrieved from the game_servers table if WS_SERVER_HOST is not set
#WS_SERVER_HOST="${WEB_SERVER_HOST}"
#WS_SERVER_PORT_EXTERNAL="${WS_SERVER_PORT}"
WS_SERVER_URI=
WS_SERVER_ADDRESS_MODIFICATION=none

# msp auth server
AUTH_SERVER_SCHEME=https
AUTH_SERVER_HOST=auth2.mspchallenge.info
AUTH_SERVER_PORT=443
# was: /usersc/plugins/apibuilder/authmsp/
AUTH_SERVER_API_BASE_PATH=/api/

# config defaults
DEFAULT_EDITION_NAME='Simulation Platform'
DEFAULT_EDITION_COLOUR='#595958ff'
DEFAULT_EDITION_LETTER=S
DEFAULT_WIKI_BASE_URL=https://knowledge.mspchallenge.info/wiki/

# proxy
#MSP_BROWSER_PROXY=http://host.docker.internal:8888

# watchdog, default is "localhost"
WATCHDOG_ADDRESS=host.docker.internal
